"use strict";function cov_ly32iabp4(){var path="/Users/andres/Library/Mobile Documents/com~apple~CloudDocs/ULL/ASIGNATURAS/PRACTICAS/DSI2021/prct08-filesystem-notes-app/src/note.ts";var hash="ea19b21ed71cb4fe1ccb631b213d3b0b52575382";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/andres/Library/Mobile Documents/com~apple~CloudDocs/ULL/ASIGNATURAS/PRACTICAS/DSI2021/prct08-filesystem-notes-app/src/note.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:22}},"2":{start:{line:4,column:14},end:{line:4,column:30}},"3":{start:{line:5,column:11},end:{line:5,column:24}},"4":{start:{line:8,column:8},end:{line:8,column:25}},"5":{start:{line:11,column:8},end:{line:11,column:25}},"6":{start:{line:24,column:19},end:{line:24,column:38}},"7":{start:{line:25,column:8},end:{line:41,column:9}},"8":{start:{line:26,column:12},end:{line:33,column:13}},"9":{start:{line:27,column:16},end:{line:27,column:84}},"10":{start:{line:29,column:30},end:{line:29,column:78}},"11":{start:{line:30,column:34},end:{line:30,column:57}},"12":{start:{line:31,column:16},end:{line:31,column:76}},"13":{start:{line:32,column:16},end:{line:32,column:71}},"14":{start:{line:36,column:12},end:{line:36,column:31}},"15":{start:{line:37,column:26},end:{line:37,column:74}},"16":{start:{line:38,column:30},end:{line:38,column:53}},"17":{start:{line:39,column:12},end:{line:39,column:72}},"18":{start:{line:40,column:12},end:{line:40,column:67}},"19":{start:{line:53,column:19},end:{line:53,column:38}},"20":{start:{line:54,column:8},end:{line:63,column:9}},"21":{start:{line:55,column:12},end:{line:55,column:52}},"22":{start:{line:56,column:26},end:{line:56,column:74}},"23":{start:{line:57,column:30},end:{line:57,column:53}},"24":{start:{line:58,column:12},end:{line:58,column:72}},"25":{start:{line:59,column:12},end:{line:59,column:70}},"26":{start:{line:62,column:12},end:{line:62,column:80}},"27":{start:{line:72,column:19},end:{line:72,column:38}},"28":{start:{line:73,column:8},end:{line:79,column:9}},"29":{start:{line:74,column:12},end:{line:74,column:52}},"30":{start:{line:75,column:12},end:{line:75,column:69}},"31":{start:{line:78,column:12},end:{line:78,column:80}},"32":{start:{line:87,column:19},end:{line:87,column:38}},"33":{start:{line:88,column:8},end:{line:98,column:9}},"34":{start:{line:89,column:12},end:{line:89,column:77}},"35":{start:{line:92,column:24},end:{line:92,column:44}},"36":{start:{line:93,column:12},end:{line:97,column:15}},"37":{start:{line:94,column:35},end:{line:94,column:78}},"38":{start:{line:95,column:31},end:{line:95,column:55}},"39":{start:{line:96,column:16},end:{line:96,column:81}},"40":{start:{line:108,column:19},end:{line:108,column:38}},"41":{start:{line:109,column:8},end:{line:116,column:9}},"42":{start:{line:110,column:31},end:{line:110,column:85}},"43":{start:{line:111,column:27},end:{line:111,column:51}},"44":{start:{line:112,column:12},end:{line:112,column:76}},"45":{start:{line:115,column:12},end:{line:115,column:80}},"46":{start:{line:119,column:0},end:{line:119,column:20}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:22},end:{line:9,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:14},end:{line:12,column:5}},line:10},"2":{name:"(anonymous_2)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:32},end:{line:42,column:5}},line:23},"3":{name:"(anonymous_3)",decl:{start:{line:52,column:4},end:{line:52,column:5}},loc:{start:{line:52,column:35},end:{line:64,column:5}},line:52},"4":{name:"(anonymous_4)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:22},end:{line:80,column:5}},line:71},"5":{name:"(anonymous_5)",decl:{start:{line:86,column:4},end:{line:86,column:5}},loc:{start:{line:86,column:16},end:{line:99,column:5}},line:86},"6":{name:"(anonymous_6)",decl:{start:{line:93,column:26},end:{line:93,column:27}},loc:{start:{line:93,column:34},end:{line:97,column:13}},line:93},"7":{name:"(anonymous_7)",decl:{start:{line:107,column:4},end:{line:107,column:5}},loc:{start:{line:107,column:20},end:{line:117,column:5}},line:107}},branchMap:{"0":{loc:{start:{line:25,column:8},end:{line:41,column:9}},type:"if",locations:[{start:{line:25,column:8},end:{line:41,column:9}},{start:{line:25,column:8},end:{line:41,column:9}}],line:25},"1":{loc:{start:{line:26,column:12},end:{line:33,column:13}},type:"if",locations:[{start:{line:26,column:12},end:{line:33,column:13}},{start:{line:26,column:12},end:{line:33,column:13}}],line:26},"2":{loc:{start:{line:54,column:8},end:{line:63,column:9}},type:"if",locations:[{start:{line:54,column:8},end:{line:63,column:9}},{start:{line:54,column:8},end:{line:63,column:9}}],line:54},"3":{loc:{start:{line:73,column:8},end:{line:79,column:9}},type:"if",locations:[{start:{line:73,column:8},end:{line:79,column:9}},{start:{line:73,column:8},end:{line:79,column:9}}],line:73},"4":{loc:{start:{line:88,column:8},end:{line:98,column:9}},type:"if",locations:[{start:{line:88,column:8},end:{line:98,column:9}},{start:{line:88,column:8},end:{line:98,column:9}}],line:88},"5":{loc:{start:{line:109,column:8},end:{line:116,column:9}},type:"if",locations:[{start:{line:109,column:8},end:{line:116,column:9}},{start:{line:109,column:8},end:{line:116,column:9}}],line:109}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},inputSourceMap:{version:3,file:"/Users/andres/Library/Mobile Documents/com~apple~CloudDocs/ULL/ASIGNATURAS/PRACTICAS/DSI2021/prct08-filesystem-notes-app/src/note.ts",sources:["/Users/andres/Library/Mobile Documents/com~apple~CloudDocs/ULL/ASIGNATURAS/PRACTICAS/DSI2021/prct08-filesystem-notes-app/src/note.ts"],names:[],mappings:"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",sourcesContent:["import * as chalk from 'chalk';\nimport * as fs from 'fs';\n\n\nexport class Note {\n\n    private user: string;\n\n    constructor(user: string) {\n        this.user = user;\n    }\n\n    getUser() {\n        return this.user;\n    }\n\n    /**\n   * M\xE9todo addNote, crea una nueva nota en el directorio del usuario @param user\n   * o crea el directorio si no existe. Cada nota se almacena en un fichero JSON\n   * separado. \n   * @param title T\xEDtulo de la nota a crear\n   * @param body Cuerpo de la nota a crear\n   * @param color Color de la nota a crear\n   * La funci\xF3n @returns un mensaje de \xE9xito o error seg\xFAn haya podido crear la nota, \n   * o esta ya exista.\n   */\n\n    addNote(title: string, body: string, color: string) {\n        \n        let path: string = 'user/' + this.user;\n        \n        if (fs.existsSync(path)) {\n            if (fs.existsSync(path + \"/\" + title + '.json'))\n                console.log(chalk.red(\"ERROR - Ya existe una nota con ese nombre\"));\n            else {\n                let newNote = {\"title\": title, \"body\": body, \"color\": color};\n                let newNoteJSON = JSON.stringify(newNote);\n                fs.writeFileSync(path + \"/\" + title + '.json', newNoteJSON)\n                console.log(chalk.green(\"Nota a\xF1adida correctamente\"));\n            }\n        }\n        else {\n            fs.mkdirSync(path);\n            let newNote = {\"title\": title, \"body\": body, \"color\": color};\n            let newNoteJSON = JSON.stringify(newNote);\n            fs.writeFileSync(path + \"/\" + title + '.json', newNoteJSON)\n            console.log(chalk.green(\"Nota a\xF1adida correctamente\"));\n        }\n    }\n        \n        \n\n    /**\n   * M\xE9todo modifyNote, modifica una nota ya creada. Permite cambiar el cuerpo de la \n   * nota y el color.\n   * @param title T\xEDtulo de la nota que se modifica\n   * @param body Cuerpo de la nota que se modifica\n   * @param color Color de la nota que se modifica\n   * La funci\xF3n @returns un mensaje de \xE9xito o error seg\xFAn haya podido modificar la nota, \n   * o esta no exista.\n   */\n    modifyNote(title: string, body: string, color: string) {\n\n        let path: string = 'user/' + this.user;\n        \n        if (fs.existsSync(path + \"/\" + title + '.json')) {\n            fs.rmSync(path + \"/\" + title + '.json');\n            let modNote = {\"title\": title, \"body\": body, \"color\": color};\n            let modNoteJSON = JSON.stringify(modNote);\n            fs.writeFileSync(path + \"/\" + title + '.json', modNoteJSON)\n            console.log(chalk.green(\"Nota modificada correctamente\"));\n        }\n        else {\n            console.log(chalk.red(\"ERROR - No existe una nota con ese nombre\"));\n        }\n    }\n\n\n\n    /**\n   * M\xE9todo removeNote, elimina una nota ya creada. Para ello comprueba que la nota existe.\n   * @param title T\xEDtulo de la nota que se elimina\n   * La funci\xF3n @returns un mensaje de \xE9xito o error seg\xFAn haya podido eliminar la nota o\n   * esta no exista.\n   */\n\n    removeNote(title: string) {\n\n        let path: string = 'user/' + this.user;\n        \n        if (fs.existsSync(path + \"/\" + title + '.json')) {\n            fs.rmSync(path + \"/\" + title + '.json');\n            console.log(chalk.green(\"Nota eliminada correctamente\"));\n        }\n        else {\n            console.log(chalk.red(\"ERROR - No existe una nota con ese nombre\"));\n        }\n    }\n\n\n\n    /**\n   * M\xE9todo listNote, elimina una nota ya creada. Para ello comprueba que la nota existe.\n   * La funci\xF3n @returns una lista de los t\xEDtulos de las notas en su color correspondiente \n   * o un mensaje de error si no existen notas.\n   */\n\n    listNotes(){\n\n        let path: string = 'user/' + this.user;\n        \n        if (fs.readdirSync(path).length === 0) {\n            console.log(chalk.red(\"ERROR - El usuario no dispone de notas\"));\n        }\n        else {\n            let notes = fs.readdirSync(path);\n            notes.forEach(note => {\n                let readNoteJSON = fs.readFileSync(path + \"/\" + note, \"utf-8\");\n                let readNote = JSON.parse(readNoteJSON);\n                console.log(chalk.keyword(readNote[\"color\"])(readNote[\"title\"]));\n            });\n        }\n    }\n\n    /**\n   * M\xE9todo readNote, lee una nota del usuario y la muestra por pantalla. Para ello \n   * comprueba que la nota existe.\n   * @param title t\xEDtulo de la nota a mostrar\n   * La funci\xF3n @returns el cuerpo de la nota en su color correspondiente\n   * o un mensaje de error si no existe la nota.\n   */\n\n    readNote(title: string){\n\n        let path: string = 'user/' + this.user;\n        \n        if (fs.existsSync(path + \"/\" + title + '.json')) {\n            let readNoteJSON = fs.readFileSync(path + \"/\" + title + '.json', \"utf-8\");\n            let readNote = JSON.parse(readNoteJSON);\n            console.log(chalk.keyword(readNote[\"color\"])(readNote[\"body\"]));\n        }\n        else {\n            console.log(chalk.red(\"ERROR - No existe una nota con ese nombre\"));\n        }\n    }\n}"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ea19b21ed71cb4fe1ccb631b213d3b0b52575382"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_ly32iabp4=function(){return actualCoverage;};}return actualCoverage;}cov_ly32iabp4();cov_ly32iabp4().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_ly32iabp4().s[1]++;exports.Note=void 0;const chalk=(cov_ly32iabp4().s[2]++,require("chalk"));const fs=(cov_ly32iabp4().s[3]++,require("fs"));class Note{constructor(user){cov_ly32iabp4().f[0]++;cov_ly32iabp4().s[4]++;this.user=user;}getUser(){cov_ly32iabp4().f[1]++;cov_ly32iabp4().s[5]++;return this.user;}/**
   * Método addNote, crea una nueva nota en el directorio del usuario @param user
   * o crea el directorio si no existe. Cada nota se almacena en un fichero JSON
   * separado.
   * @param title Título de la nota a crear
   * @param body Cuerpo de la nota a crear
   * @param color Color de la nota a crear
   * La función @returns un mensaje de éxito o error según haya podido crear la nota,
   * o esta ya exista.
   */addNote(title,body,color){cov_ly32iabp4().f[2]++;let path=(cov_ly32iabp4().s[6]++,'user/'+this.user);cov_ly32iabp4().s[7]++;if(fs.existsSync(path)){cov_ly32iabp4().b[0][0]++;cov_ly32iabp4().s[8]++;if(fs.existsSync(path+"/"+title+'.json')){cov_ly32iabp4().b[1][0]++;cov_ly32iabp4().s[9]++;console.log(chalk.red("ERROR - Ya existe una nota con ese nombre"));}else{cov_ly32iabp4().b[1][1]++;let newNote=(cov_ly32iabp4().s[10]++,{"title":title,"body":body,"color":color});let newNoteJSON=(cov_ly32iabp4().s[11]++,JSON.stringify(newNote));cov_ly32iabp4().s[12]++;fs.writeFileSync(path+"/"+title+'.json',newNoteJSON);cov_ly32iabp4().s[13]++;console.log(chalk.green("Nota añadida correctamente"));}}else{cov_ly32iabp4().b[0][1]++;cov_ly32iabp4().s[14]++;fs.mkdirSync(path);let newNote=(cov_ly32iabp4().s[15]++,{"title":title,"body":body,"color":color});let newNoteJSON=(cov_ly32iabp4().s[16]++,JSON.stringify(newNote));cov_ly32iabp4().s[17]++;fs.writeFileSync(path+"/"+title+'.json',newNoteJSON);cov_ly32iabp4().s[18]++;console.log(chalk.green("Nota añadida correctamente"));}}/**
   * Método modifyNote, modifica una nota ya creada. Permite cambiar el cuerpo de la
   * nota y el color.
   * @param title Título de la nota que se modifica
   * @param body Cuerpo de la nota que se modifica
   * @param color Color de la nota que se modifica
   * La función @returns un mensaje de éxito o error según haya podido modificar la nota,
   * o esta no exista.
   */modifyNote(title,body,color){cov_ly32iabp4().f[3]++;let path=(cov_ly32iabp4().s[19]++,'user/'+this.user);cov_ly32iabp4().s[20]++;if(fs.existsSync(path+"/"+title+'.json')){cov_ly32iabp4().b[2][0]++;cov_ly32iabp4().s[21]++;fs.rmSync(path+"/"+title+'.json');let modNote=(cov_ly32iabp4().s[22]++,{"title":title,"body":body,"color":color});let modNoteJSON=(cov_ly32iabp4().s[23]++,JSON.stringify(modNote));cov_ly32iabp4().s[24]++;fs.writeFileSync(path+"/"+title+'.json',modNoteJSON);cov_ly32iabp4().s[25]++;console.log(chalk.green("Nota modificada correctamente"));}else{cov_ly32iabp4().b[2][1]++;cov_ly32iabp4().s[26]++;console.log(chalk.red("ERROR - No existe una nota con ese nombre"));}}/**
   * Método removeNote, elimina una nota ya creada. Para ello comprueba que la nota existe.
   * @param title Título de la nota que se elimina
   * La función @returns un mensaje de éxito o error según haya podido eliminar la nota o
   * esta no exista.
   */removeNote(title){cov_ly32iabp4().f[4]++;let path=(cov_ly32iabp4().s[27]++,'user/'+this.user);cov_ly32iabp4().s[28]++;if(fs.existsSync(path+"/"+title+'.json')){cov_ly32iabp4().b[3][0]++;cov_ly32iabp4().s[29]++;fs.rmSync(path+"/"+title+'.json');cov_ly32iabp4().s[30]++;console.log(chalk.green("Nota eliminada correctamente"));}else{cov_ly32iabp4().b[3][1]++;cov_ly32iabp4().s[31]++;console.log(chalk.red("ERROR - No existe una nota con ese nombre"));}}/**
   * Método listNote, elimina una nota ya creada. Para ello comprueba que la nota existe.
   * La función @returns una lista de los títulos de las notas en su color correspondiente
   * o un mensaje de error si no existen notas.
   */listNotes(){cov_ly32iabp4().f[5]++;let path=(cov_ly32iabp4().s[32]++,'user/'+this.user);cov_ly32iabp4().s[33]++;if(fs.readdirSync(path).length===0){cov_ly32iabp4().b[4][0]++;cov_ly32iabp4().s[34]++;console.log(chalk.red("ERROR - El usuario no dispone de notas"));}else{cov_ly32iabp4().b[4][1]++;let notes=(cov_ly32iabp4().s[35]++,fs.readdirSync(path));cov_ly32iabp4().s[36]++;notes.forEach(note=>{cov_ly32iabp4().f[6]++;let readNoteJSON=(cov_ly32iabp4().s[37]++,fs.readFileSync(path+"/"+note,"utf-8"));let readNote=(cov_ly32iabp4().s[38]++,JSON.parse(readNoteJSON));cov_ly32iabp4().s[39]++;console.log(chalk.keyword(readNote["color"])(readNote["title"]));});}}/**
   * Método readNote, lee una nota del usuario y la muestra por pantalla. Para ello
   * comprueba que la nota existe.
   * @param title título de la nota a mostrar
   * La función @returns el cuerpo de la nota en su color correspondiente
   * o un mensaje de error si no existe la nota.
   */readNote(title){cov_ly32iabp4().f[7]++;let path=(cov_ly32iabp4().s[40]++,'user/'+this.user);cov_ly32iabp4().s[41]++;if(fs.existsSync(path+"/"+title+'.json')){cov_ly32iabp4().b[5][0]++;let readNoteJSON=(cov_ly32iabp4().s[42]++,fs.readFileSync(path+"/"+title+'.json',"utf-8"));let readNote=(cov_ly32iabp4().s[43]++,JSON.parse(readNoteJSON));cov_ly32iabp4().s[44]++;console.log(chalk.keyword(readNote["color"])(readNote["body"]));}else{cov_ly32iabp4().b[5][1]++;cov_ly32iabp4().s[45]++;console.log(chalk.red("ERROR - No existe una nota con ese nombre"));}}}cov_ly32iabp4().s[46]++;exports.Note=Note;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL2FuZHJlcy9MaWJyYXJ5L01vYmlsZSBEb2N1bWVudHMvY29tfmFwcGxlfkNsb3VkRG9jcy9VTEwvQVNJR05BVFVSQVMvUFJBQ1RJQ0FTL0RTSTIwMjEvcHJjdDA4LWZpbGVzeXN0ZW0tbm90ZXMtYXBwL3NyYy9ub3RlLnRzIiwic291cmNlcyI6WyIvVXNlcnMvYW5kcmVzL0xpYnJhcnkvTW9iaWxlIERvY3VtZW50cy9jb21+YXBwbGV+Q2xvdWREb2NzL1VMTC9BU0lHTkFUVVJBUy9QUkFDVElDQVMvRFNJMjAyMS9wcmN0MDgtZmlsZXN5c3RlbS1ub3Rlcy1hcHAvc3JjL25vdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsK0JBQStCO0FBQy9CLHlCQUF5QjtBQUd6QixNQUFhLElBQUk7SUFJYixZQUFZLElBQVk7UUFDcEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVELE9BQU87UUFDSCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVEOzs7Ozs7Ozs7S0FTQztJQUVELE9BQU8sQ0FBQyxLQUFhLEVBQUUsSUFBWSxFQUFFLEtBQWE7UUFFOUMsSUFBSSxJQUFJLEdBQVcsT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFdkMsSUFBSSxFQUFFLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3JCLElBQUksRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxPQUFPLENBQUM7Z0JBQzNDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQywyQ0FBMkMsQ0FBQyxDQUFDLENBQUM7aUJBQ25FO2dCQUNELElBQUksT0FBTyxHQUFHLEVBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUMsQ0FBQztnQkFDN0QsSUFBSSxXQUFXLEdBQUcsSUFB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QUN2RTtJQUNMLENBQUM7Q0FDSjtBQTdJRCxvQkE2SUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjaGFsayBmcm9tICdjaGFsayc7XG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5cblxuZXhwb3J0IGNsYXNzIE5vdGUge1xuXG4gICAgcHJpdmF0ZSB1c2VyOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcih1c2VyOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICB9XG5cbiAgICBnZXRVc2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51c2VyO1xuICAgIH1cblxuICAgIC8qKlxuICAgKiBNw6l0b2RvIGFkZE5vdGUsIGNyZWEgdW5hIG51ZXZhIG5vdGEgZW4gZWwgZGlyZWN0b3JpbyBkZWwgdXN1YXJpbyBAcGFyYW0gdXNlclxuICAgKiBvIGNyZWEgZWwgZGlyZWN0b3JpbyBzaSBubyBleGlzdGUuIENhZGEgbm90YSBzZSBhbG1hY2VuYSBlbiB1biBmaWNoZXJvIEpTT05cbiAgICogc2VwYXJhZG8uIFxuICAgKiBAcGFyYW0gdGl0bGUgVMOtdHVsbyBkZSBsYSBub3RhIGEgY3JlYXJcbiAgICogQHBhcmFtIGJvZHkgQ3VlcnBvIGRlIGxhIG5vdGEgYSBjcmVhclxuICAgKiBAcGFyYW0gY29sb3IgQ29sb3IgZGUgbGEgbm90YSBhIGNyZWFyXG4gICAqIExhIGZ1bmNpw7NuIEByZXR1cm5zIHVuIG1lbnNhamUgZGUgw6l4aXRvIG8gZXJyb3Igc2Vnw7puIGhheWEgcG9kaWRvIGNyZWFyIGxhIG5vdGEsIFxuICAgKiBvIGVzdGEgeWEgZXhpc3RhLlxuICAgKi9cblxuICAgIGFkZE5vdGUodGl0bGU6IHN0cmluZywgYm9keTogc3RyaW5nLCBjb2xvcjogc3RyaW5nKSB7XG4gICAgICAgIFxuICAgICAgICBsZXQgcGF0aDogc3RyaW5nID0gJ3VzZXIvJyArIHRoaXMudXNlcjtcbiAgICAgICAgXG4gICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHBhdGgpKSB7XG4gICAgICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhwYXRoICsgXCIvXCIgKyB0aXRsZSArICcuanNvbicpKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoYWxrLnJlZChcIkVSUk9SIC0gWWEgZXhpc3RlIHVuYSBub3RhIGNvbiBlc2Ugbm9tYnJlXCIpKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBuZXdOb3RlID0ge1widGl0bGVcIjogdGl0bGUsIFwiYm9keVwiOiBib2R5LCBcImNvbG9yXCI6IGNvbG9yfTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Tm90ZUpTT04gPSBKU09OLnN0cmluZ2lmeShuZXdOb3RlKTtcbiAgICAgICAgICAgICAgICBmcy53cml0ZUZpbGVTeW5jKHBhdGggKyBcIi9cIiArIHRpdGxlICsgJy5qc29uJywgbmV3Tm90ZUpTT04pXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuZ3JlZW4oXCJOb3RhIGHDsWFkaWRhIGNvcnJlY3RhbWVudGVcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnMubWtkaXJTeW5jKHBhdGgpO1xuICAgICAgICAgICAgbGV0IG5ld05vdGUgPSB7XCJ0aXRsZVwiOiB0aXRsZSwgXCJib2R5XCI6IGJvZHksIFwiY29sb3JcIjogY29sb3J9O1xuICAgICAgICAgICAgbGV0IG5ld05vdGVKU09OID0gSlNPTi5zdHJpbmdpZnkobmV3Tm90ZSk7XG4gICAgICAgICAgICBmcy53cml0ZUZpbGVTeW5jKHBhdGggKyBcIi9cIiArIHRpdGxlICsgJy5qc29uJywgbmV3Tm90ZUpTT04pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5ncmVlbihcIk5vdGEgYcOxYWRpZGEgY29ycmVjdGFtZW50ZVwiKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgICAgIFxuICAgICAgICBcblxuICAgIC8qKlxuICAgKiBNw6l0b2RvIG1vZGlmeU5vdGUsIG1vZGlmaWNhIHVuYSBub3RhIHlhIGNyZWFkYS4gUGVybWl0ZSBjYW1iaWFyIGVsIGN1ZXJwbyBkZSBsYSBcbiAgICogbm90YSB5IGVsIGNvbG9yLlxuICAgKiBAcGFyYW0gdGl0bGUgVMOtdHVsbyBkZSBsYSBub3RhIHF1ZSBzZSBtb2RpZmljYVxuICAgKiBAcGFyYW0gYm9keSBDdWVycG8gZGUgbGEgbm90YSBxdWUgc2UgbW9kaWZpY2FcbiAgICogQHBhcmFtIGNvbG9yIENvbG9yIGRlIGxhIG5vdGEgcXVlIHNlIG1vZGlmaWNhXG4gICAqIExhIGZ1bmNpw7NuIEByZXR1cm5zIHVuIG1lbnNhamUgZGUgw6l4aXRvIG8gZXJyb3Igc2Vnw7puIGhheWEgcG9kaWRvIG1vZGlmaWNhciBsYSBub3RhLCBcbiAgICogbyBlc3RhIG5vIGV4aXN0YS5cbiAgICovXG4gICAgbW9kaWZ5Tm90ZSh0aXRsZTogc3RyaW5nLCBib2R5OiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcpIHtcblxuICAgICAgICBsZXQgcGF0aDogc3RyaW5nID0gJ3VzZXIvJyArIHRoaXMudXNlcjtcbiAgICAgICAgXG4gICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHBhdGggKyBcIi9cIiArIHRpdGxlICsgJy5qc29uJykpIHtcbiAgICAgICAgICAgIGZzLnJtU3luYyhwYXRoICsgXCIvXCIgKyB0aXRsZSArICcuanNvbicpO1xuICAgICAgICAgICAgbGV0IG1vZE5vdGUgPSB7XCJ0aXRsZVwiOiB0aXRsZSwgXCJib2R5XCI6IGJvZHksIFwiY29sb3JcIjogY29sb3J9O1xuICAgICAgICAgICAgbGV0IG1vZE5vdGVKU09OID0gSlNPTi5zdHJpbmdpZnkobW9kTm90ZSk7XG4gICAgICAgICAgICBmcy53cml0ZUZpbGVTeW5jKHBhdGggKyBcIi9cIiArIHRpdGxlICsgJy5qc29uJywgbW9kTm90ZUpTT04pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5ncmVlbihcIk5vdGEgbW9kaWZpY2FkYSBjb3JyZWN0YW1lbnRlXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoYWxrLnJlZChcIkVSUk9SIC0gTm8gZXhpc3RlIHVuYSBub3RhIGNvbiBlc2Ugbm9tYnJlXCIpKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICogTcOpdG9kbyByZW1vdmVOb3RlLCBlbGltaW5hIHVuYSBub3RhIHlhIGNyZWFkYS4gUGFyYSBlbGxvIGNvbXBydWViYSBxdWUgbGEgbm90YSBleGlzdGUuXG4gICAqIEBwYXJhbSB0aXRsZSBUw610dWxvIGRlIGxhIG5vdGEgcXVlIHNlIGVsaW1pbmFcbiAgICogTGEgZnVuY2nDs24gQHJldHVybnMgdW4gbWVuc2FqZSBkZSDDqXhpdG8gbyBlcnJvciBzZWfDum4gaGF5YSBwb2RpZG8gZWxpbWluYXIgbGEgbm90YSBvXG4gICAqIGVzdGEgbm8gZXhpc3RhLlxuICAgKi9cblxuICAgIHJlbW92ZU5vdGUodGl0bGU6IHN0cmluZykge1xuXG4gICAgICAgIGxldCBwYXRoOiBzdHJpbmcgPSAndXNlci8nICsgdGhpcy51c2VyO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMocGF0aCArIFwiL1wiICsgdGl0bGUgKyAnLmpzb24nKSkge1xuICAgICAgICAgICAgZnMucm1TeW5jKHBhdGggKyBcIi9cIiArIHRpdGxlICsgJy5qc29uJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5ncmVlbihcIk5vdGEgZWxpbWluYWRhIGNvcnJlY3RhbWVudGVcIikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKFwiRVJST1IgLSBObyBleGlzdGUgdW5hIG5vdGEgY29uIGVzZSBub21icmVcIikpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgKiBNw6l0b2RvIGxpc3ROb3RlLCBlbGltaW5hIHVuYSBub3RhIHlhIGNyZWFkYS4gUGFyYSBlbGxvIGNvbXBydWViYSBxdWUgbGEgbm90YSBleGlzdGUuXG4gICAqIExhIGZ1bmNpw7NuIEByZXR1cm5zIHVuYSBsaXN0YSBkZSBsb3MgdMOtdHVsb3MgZGUgbGFzIG5vdGFzIGVuIHN1IGNvbG9yIGNvcnJlc3BvbmRpZW50ZSBcbiAgICogbyB1biBtZW5zYWplIGRlIGVycm9yIHNpIG5vIGV4aXN0ZW4gbm90YXMuXG4gICAqL1xuXG4gICAgbGlzdE5vdGVzKCl7XG5cbiAgICAgICAgbGV0IHBhdGg6IHN0cmluZyA9ICd1c2VyLycgKyB0aGlzLnVzZXI7XG4gICAgICAgIFxuICAgICAgICBpZiAoZnMucmVhZGRpclN5bmMocGF0aCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5yZWQoXCJFUlJPUiAtIEVsIHVzdWFyaW8gbm8gZGlzcG9uZSBkZSBub3Rhc1wiKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbm90ZXMgPSBmcy5yZWFkZGlyU3luYyhwYXRoKTtcbiAgICAgICAgICAgIG5vdGVzLmZvckVhY2gobm90ZSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHJlYWROb3RlSlNPTiA9IGZzLnJlYWRGaWxlU3luYyhwYXRoICsgXCIvXCIgKyBub3RlLCBcInV0Zi04XCIpO1xuICAgICAgICAgICAgICAgIGxldCByZWFkTm90ZSA9IEpTT04ucGFyc2UocmVhZE5vdGVKU09OKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5rZXl3b3JkKHJlYWROb3RlW1wiY29sb3JcIl0pKHJlYWROb3RlW1widGl0bGVcIl0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAqIE3DqXRvZG8gcmVhZE5vdGUsIGxlZSB1bmEgbm90YSBkZWwgdXN1YXJpbyB5IGxhIG11ZXN0cmEgcG9yIHBhbnRhbGxhLiBQYXJhIGVsbG8gXG4gICAqIGNvbXBydWViYSBxdWUgbGEgbm90YSBleGlzdGUuXG4gICAqIEBwYXJhbSB0aXRsZSB0w610dWxvIGRlIGxhIG5vdGEgYSBtb3N0cmFyXG4gICAqIExhIGZ1bmNpw7NuIEByZXR1cm5zIGVsIGN1ZXJwbyBkZSBsYSBub3RhIGVuIHN1IGNvbG9yIGNvcnJlc3BvbmRpZW50ZVxuICAgKiBvIHVuIG1lbnNhamUgZGUgZXJyb3Igc2kgbm8gZXhpc3RlIGxhIG5vdGEuXG4gICAqL1xuXG4gICAgcmVhZE5vdGUodGl0bGU6IHN0cmluZyl7XG5cbiAgICAgICAgbGV0IHBhdGg6IHN0cmluZyA9ICd1c2VyLycgKyB0aGlzLnVzZXI7XG4gICAgICAgIFxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhwYXRoICsgXCIvXCIgKyB0aXRsZSArICcuanNvbicpKSB7XG4gICAgICAgICAgICBsZXQgcmVhZE5vdGVKU09OID0gZnMucmVhZEZpbGVTeW5jKHBhdGggKyBcIi9cIiArIHRpdGxlICsgJy5qc29uJywgXCJ1dGYtOFwiKTtcbiAgICAgICAgICAgIGxldCByZWFkTm90ZSA9IEpTT04ucGFyc2UocmVhZE5vdGVKU09OKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoYWxrLmtleXdvcmQocmVhZE5vdGVbXCJjb2xvclwiXSkocmVhZE5vdGVbXCJib2R5XCJdKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5yZWQoXCJFUlJPUiAtIE5vIGV4aXN0ZSB1bmEgbm90YSBjb24gZXNlIG5vbWJyZVwiKSk7XG4gICAgICAgIH1cbiAgICB9XG59Il19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmRyZXMvTGlicmFyeS9Nb2JpbGUgRG9jdW1lbnRzL2NvbX5hcHBsZX5DbG91ZERvY3MvVUxML0FTSUdOQVRVUkFTL1BSQUNUSUNBUy9EU0kyMDIxL3ByY3QwOC1maWxlc3lzdGVtLW5vdGVzLWFwcC9zcmMvbm90ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO29OQUFBLEtBQUEsQ0FBQSxLQUFBLHlCQUFBLE9BQUEsQ0FBQSxPQUFBLENBQUEsQ0FBQSxDQUNBLEtBQUEsQ0FBQSxFQUFBLHlCQUFBLE9BQUEsQ0FBQSxJQUFBLENBQUEsQ0FBQSxDQUdBLEtBQWEsQ0FBQSxJQUFJLENBSWIsV0FBQSxDQUFZLElBQVosQ0FBd0IsK0NBQ3BCLEtBQUssSUFBTCxDQUFZLElBQVosQ0FDSCxDQUVELE9BQU8sRUFBQSwrQ0FDSCxNQUFPLE1BQUssSUFBWixDQUNILENBRUQ7Ozs7Ozs7OztLQVdBLE9BQU8sQ0FBQyxLQUFELENBQWdCLElBQWhCLENBQThCLEtBQTlCLENBQTJDLHdCQUU5QyxHQUFJLENBQUEsSUFBSSx5QkFBVyxRQUFVLEtBQUssSUFBMUIsQ0FBUixDQUY4Qyx1QkFJOUMsR0FBSSxFQUFFLENBQUMsVUFBSCxDQUFjLElBQWQsQ0FBSixDQUF5QixrREFDckIsR0FBSSxFQUFFLENBQUMsVUFBSCxDQUFjLElBQUksQ0FBRyxHQUFQLENBQWEsS0FBYixDQUFxQixPQUFuQyxDQUFKLENBQ0ksa0RBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxLQUFLLENBQUMsR0FBTixDQUFVLDJDQUFWLENBQVosRUFBb0UsQ0FEeEUsSUFFSywyQkFDRCxHQUFJLENBQUEsT0FBTywwQkFBRyxDQUFDLFFBQVMsS0FBVixDQUFpQixPQUFRLElBQXpCLENBQStCLFFBQVMsS0FBeEMsQ0FBSCxDQUFYLENBQ0EsR0FBSSxDQUFBLFdBQVcsMEJBQUcsSUFBSSxDQUFDLFNBQUwsQ0FBZSxPQUFmLENBQUgsQ0FBZixDQUZDLHdCQUdELEVBQUUsQ0FBQyxhQUFILENB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bGsnO1xuaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnO1xuXG5cbmV4cG9ydCBjbGFzcyBOb3RlIHtcblxuICAgIHByaXZhdGUgdXNlcjogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IodXNlcjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMudXNlciA9IHVzZXI7XG4gICAgfVxuXG4gICAgZ2V0VXNlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICogTcOpdG9kbyBhZGROb3RlLCBjcmVhIHVuYSBudWV2YSBub3RhIGVuIGVsIGRpcmVjdG9yaW8gZGVsIHVzdWFyaW8gQHBhcmFtIHVzZXJcbiAgICogbyBjcmVhIGVsIGRpcmVjdG9yaW8gc2kgbm8gZXhpc3RlLiBDYWRhIG5vdGEgc2UgYWxtYWNlbmEgZW4gdW4gZmljaGVybyBKU09OXG4gICAqIHNlcGFyYWRvLiBcbiAgICogQHBhcmFtIHRpdGxlIFTDrXR1bG8gZGUgbGEgbm90YSBhIGNyZWFyXG4gICAqIEBwYXJhbSBib2R5IEN1ZXJwbyBkZSBsYSBub3RhIGEgY3JlYXJcbiAgICogQHBhcmFtIGNvbG9yIENvbG9yIGRlIGxhIG5vdGEgYSBjcmVhclxuICAgKiBMYSBmdW5jacOzbiBAcmV0dXJucyB1biBtZW5zYWplIGRlIMOpeGl0byBvIGVycm9yIHNlZ8O6biBoYXlhIHBvZGlkbyBjcmVhciBsYSBub3RhLCBcbiAgICogbyBlc3RhIHlhIGV4aXN0YS5cbiAgICovXG5cbiAgICBhZGROb3RlKHRpdGxlOiBzdHJpbmcsIGJvZHk6IHN0cmluZywgY29sb3I6IHN0cmluZykge1xuICAgICAgICBcbiAgICAgICAgbGV0IHBhdGg6IHN0cmluZyA9ICd1c2VyLycgKyB0aGlzLnVzZXI7XG4gICAgICAgIFxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhwYXRoKSkge1xuICAgICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMocGF0aCArIFwiL1wiICsgdGl0bGUgKyAnLmpzb24nKSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5yZWQoXCJFUlJPUiAtIFlhIGV4aXN0ZSB1bmEgbm90YSBjb24gZXNlIG5vbWJyZVwiKSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Tm90ZSA9IHtcInRpdGxlXCI6IHRpdGxlLCBcImJvZHlcIjogYm9keSwgXCJjb2xvclwiOiBjb2xvcn07XG4gICAgICAgICAgICAgICAgbGV0IG5ld05vdGVKU09OID0gSlNPTi5zdHJpbmdpZnkobmV3Tm90ZSk7XG4gICAgICAgICAgICAgICAgZnMud3JpdGVGaWxlU3luYyhwYXRoICsgXCIvXCIgKyB0aXRsZSArICcuanNvbicsIG5ld05vdGVKU09OKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoYWxrLmdyZWVuKFwiTm90YSBhw7FhZGlkYSBjb3JyZWN0YW1lbnRlXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZzLm1rZGlyU3luYyhwYXRoKTtcbiAgICAgICAgICAgIGxldCBuZXdOb3RlID0ge1widGl0bGVcIjogdGl0bGUsIFwiYm9keVwiOiBib2R5LCBcImNvbG9yXCI6IGNvbG9yfTtcbiAgICAgICAgICAgIGxldCBuZXdOb3RlSlNPTiA9IEpTT04uc3RyaW5naWZ5KG5ld05vdGUpO1xuICAgICAgICAgICAgZnMud3JpdGVGaWxlU3luYyhwYXRoICsgXCIvXCIgKyB0aXRsZSArICcuanNvbicsIG5ld05vdGVKU09OKVxuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuZ3JlZW4oXCJOb3RhIGHDsWFkaWRhIGNvcnJlY3RhbWVudGVcIikpO1xuICAgICAgICB9XG4gICAgfVxuICAgICAgICBcbiAgICAgICAgXG5cbiAgICAvKipcbiAgICogTcOpdG9kbyBtb2RpZnlOb3RlLCBtb2RpZmljYSB1bmEgbm90YSB5YSBjcmVhZGEuIFBlcm1pdGUgY2FtYmlhciBlbCBjdWVycG8gZGUgbGEgXG4gICAqIG5vdGEgeSBlbCBjb2xvci5cbiAgICogQHBhcmFtIHRpdGxlIFTDrXR1bG8gZGUgbGEgbm90YSBxdWUgc2UgbW9kaWZpY2FcbiAgICogQHBhcmFtIGJvZHkgQ3VlcnBvIGRlIGxhIG5vdGEgcXVlIHNlIG1vZGlmaWNhXG4gICAqIEBwYXJhbSBjb2xvciBDb2xvciBkZSBsYSBub3RhIHF1ZSBzZSBtb2RpZmljYVxuICAgKiBMYSBmdW5jacOzbiBAcmV0dXJucyB1biBtZW5zYWplIGRlIMOpeGl0byBvIGVycm9yIHNlZ8O6biBoYXlhIHBvZGlkbyBtb2RpZmljYXIgbGEgbm90YSwgXG4gICAqIG8gZXN0YSBubyBleGlzdGEuXG4gICAqL1xuICAgIG1vZGlmeU5vdGUodGl0bGU6IHN0cmluZywgYm9keTogc3RyaW5nLCBjb2xvcjogc3RyaW5nKSB7XG5cbiAgICAgICAgbGV0IHBhdGg6IHN0cmluZyA9ICd1c2VyLycgKyB0aGlzLnVzZXI7XG4gICAgICAgIFxuICAgICAgICBpZiAoZnMuZXhpc3RzU3luYyhwYXRoICsgXCIvXCIgKyB0aXRsZSArICcuanNvbicpKSB7XG4gICAgICAgICAgICBmcy5ybVN5bmMocGF0aCArIFwiL1wiICsgdGl0bGUgKyAnLmpzb24nKTtcbiAgICAgICAgICAgIGxldCBtb2ROb3RlID0ge1widGl0bGVcIjogdGl0bGUsIFwiYm9keVwiOiBib2R5LCBcImNvbG9yXCI6IGNvbG9yfTtcbiAgICAgICAgICAgIGxldCBtb2ROb3RlSlNPTiA9IEpTT04uc3RyaW5naWZ5KG1vZE5vdGUpO1xuICAgICAgICAgICAgZnMud3JpdGVGaWxlU3luYyhwYXRoICsgXCIvXCIgKyB0aXRsZSArICcuanNvbicsIG1vZE5vdGVKU09OKVxuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuZ3JlZW4oXCJOb3RhIG1vZGlmaWNhZGEgY29ycmVjdGFtZW50ZVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5yZWQoXCJFUlJPUiAtIE5vIGV4aXN0ZSB1bmEgbm90YSBjb24gZXNlIG5vbWJyZVwiKSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAqIE3DqXRvZG8gcmVtb3ZlTm90ZSwgZWxpbWluYSB1bmEgbm90YSB5YSBjcmVhZGEuIFBhcmEgZWxsbyBjb21wcnVlYmEgcXVlIGxhIG5vdGEgZXhpc3RlLlxuICAgKiBAcGFyYW0gdGl0bGUgVMOtdHVsbyBkZSBsYSBub3RhIHF1ZSBzZSBlbGltaW5hXG4gICAqIExhIGZ1bmNpw7NuIEByZXR1cm5zIHVuIG1lbnNhamUgZGUgw6l4aXRvIG8gZXJyb3Igc2Vnw7puIGhheWEgcG9kaWRvIGVsaW1pbmFyIGxhIG5vdGEgb1xuICAgKiBlc3RhIG5vIGV4aXN0YS5cbiAgICovXG5cbiAgICByZW1vdmVOb3RlKHRpdGxlOiBzdHJpbmcpIHtcblxuICAgICAgICBsZXQgcGF0aDogc3RyaW5nID0gJ3VzZXIvJyArIHRoaXMudXNlcjtcbiAgICAgICAgXG4gICAgICAgIGlmIChmcy5leGlzdHNTeW5jKHBhdGggKyBcIi9cIiArIHRpdGxlICsgJy5qc29uJykpIHtcbiAgICAgICAgICAgIGZzLnJtU3luYyhwYXRoICsgXCIvXCIgKyB0aXRsZSArICcuanNvbicpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsuZ3JlZW4oXCJOb3RhIGVsaW1pbmFkYSBjb3JyZWN0YW1lbnRlXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoYWxrLnJlZChcIkVSUk9SIC0gTm8gZXhpc3RlIHVuYSBub3RhIGNvbiBlc2Ugbm9tYnJlXCIpKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICogTcOpdG9kbyBsaXN0Tm90ZSwgZWxpbWluYSB1bmEgbm90YSB5YSBjcmVhZGEuIFBhcmEgZWxsbyBjb21wcnVlYmEgcXVlIGxhIG5vdGEgZXhpc3RlLlxuICAgKiBMYSBmdW5jacOzbiBAcmV0dXJucyB1bmEgbGlzdGEgZGUgbG9zIHTDrXR1bG9zIGRlIGxhcyBub3RhcyBlbiBzdSBjb2xvciBjb3JyZXNwb25kaWVudGUgXG4gICAqIG8gdW4gbWVuc2FqZSBkZSBlcnJvciBzaSBubyBleGlzdGVuIG5vdGFzLlxuICAgKi9cblxuICAgIGxpc3ROb3Rlcygpe1xuXG4gICAgICAgIGxldCBwYXRoOiBzdHJpbmcgPSAndXNlci8nICsgdGhpcy51c2VyO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZzLnJlYWRkaXJTeW5jKHBhdGgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKFwiRVJST1IgLSBFbCB1c3VhcmlvIG5vIGRpc3BvbmUgZGUgbm90YXNcIikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG5vdGVzID0gZnMucmVhZGRpclN5bmMocGF0aCk7XG4gICAgICAgICAgICBub3Rlcy5mb3JFYWNoKG5vdGUgPT4ge1xuICAgICAgICAgICAgICAgIGxldCByZWFkTm90ZUpTT04gPSBmcy5yZWFkRmlsZVN5bmMocGF0aCArIFwiL1wiICsgbm90ZSwgXCJ1dGYtOFwiKTtcbiAgICAgICAgICAgICAgICBsZXQgcmVhZE5vdGUgPSBKU09OLnBhcnNlKHJlYWROb3RlSlNPTik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsua2V5d29yZChyZWFkTm90ZVtcImNvbG9yXCJdKShyZWFkTm90ZVtcInRpdGxlXCJdKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgKiBNw6l0b2RvIHJlYWROb3RlLCBsZWUgdW5hIG5vdGEgZGVsIHVzdWFyaW8geSBsYSBtdWVzdHJhIHBvciBwYW50YWxsYS4gUGFyYSBlbGxvIFxuICAgKiBjb21wcnVlYmEgcXVlIGxhIG5vdGEgZXhpc3RlLlxuICAgKiBAcGFyYW0gdGl0bGUgdMOtdHVsbyBkZSBsYSBub3RhIGEgbW9zdHJhclxuICAgKiBMYSBmdW5jacOzbiBAcmV0dXJucyBlbCBjdWVycG8gZGUgbGEgbm90YSBlbiBzdSBjb2xvciBjb3JyZXNwb25kaWVudGVcbiAgICogbyB1biBtZW5zYWplIGRlIGVycm9yIHNpIG5vIGV4aXN0ZSBsYSBub3RhLlxuICAgKi9cblxuICAgIHJlYWROb3RlKHRpdGxlOiBzdHJpbmcpe1xuXG4gICAgICAgIGxldCBwYXRoOiBzdHJpbmcgPSAndXNlci8nICsgdGhpcy51c2VyO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMocGF0aCArIFwiL1wiICsgdGl0bGUgKyAnLmpzb24nKSkge1xuICAgICAgICAgICAgbGV0IHJlYWROb3RlSlNPTiA9IGZzLnJlYWRGaWxlU3luYyhwYXRoICsgXCIvXCIgKyB0aXRsZSArICcuanNvbicsIFwidXRmLThcIik7XG4gICAgICAgICAgICBsZXQgcmVhZE5vdGUgPSBKU09OLnBhcnNlKHJlYWROb3RlSlNPTik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjaGFsay5rZXl3b3JkKHJlYWROb3RlW1wiY29sb3JcIl0pKHJlYWROb3RlW1wiYm9keVwiXSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2hhbGsucmVkKFwiRVJST1IgLSBObyBleGlzdGUgdW5hIG5vdGEgY29uIGVzZSBub21icmVcIikpO1xuICAgICAgICB9XG4gICAgfVxufSJdfQ==